# Data Cleaning: Anomaly Replacement and Filling Missing Values

This section focuses on data cleaning techniques, which is vital for generating quality data for simulations. By learning to identify and handle anomalies and missing values, you will ensure the reliability and accuracy of your subsequent analyses and modeling efforts.

## Replacing Anomalies

Replacing identified anomalies with `NaN` (Not a Number) values is a common practice in data cleaning. Pandas provides powerful indexing capabilities that enable you to easily replace these anomalies. This step is often performed before filling missing values or conducting further analysis, as `NaN` values can be handled consistently by many functions and methods. For guides on how to replace values using pandas indexing, see [pandas' documentation for data cleaning](https://pandas.pydata.org/docs/user_guide/missing_data.html).

## Filling Missing Values

Pandas also offers a convenient method, `fillna()`, for filling missing values. The `fillna()` method offers several strategies for imputing missing data.  One strategy is to fill data forward by propagating the last valid observation forward with the `ffill` argument.  A second approach is backwards filling, where the next valid observation is backward by specifying the `bfill` argument.  You can also use the `mean()` or `median()` of the time series to fill in missing values, providing a statistically representative value.  Interpolation techniques offer more sophisticated filling methods, and you can learn more in the [pandas documentation](https://pandas.pydata.org/docs/).  Choosing the right filling strategy depends on the nature of the data and the context of your analysis.

When selecting a filling strategy, consider the nature of your time series data and its potential impact on subsequent analyses.  Forward fill is suitable when the last known value is likely to persist for a short period. Backward fill is appropriate when the next available value is a better estimate.  Mean or median filling can smooth out fluctuations, but it may not be suitable for data with strong trends. For guides on data cleaning, refer to the official [`tsod` documentation](https://tsod.readthedocs.io/en/latest/).

## Video - Cleaning Missing Values (5-10 min)

The video below demonstrates how to replace anomalies with `NaN` and fill missing data using `ffill`, `bfill`, and `mean` filling strategies. It also discusses the considerations involved in choosing the most appropriate filling strategies for different types of data.

{{< video [INSERT VIDEO LINK HERE] >}}
